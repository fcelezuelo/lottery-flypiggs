(this["webpackJsonplottery-flypiggs"]=this["webpackJsonplottery-flypiggs"]||[]).push([[0],{50:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){},79:function(t,e,a){},80:function(t,e,a){},81:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),r=a(18),i=a.n(r),s=a(12),o=a(2),j=a(10),l=a.n(j),d=a(15),u=a(7),b=a(0),h=Object(n.createContext)([{},function(){}]);function p(t){var e=t.children,a=Object(n.useState)({}),c=Object(u.a)(a,2),r=c[0],i=c[1];return Object(b.jsx)(h.Provider,{value:[r,i],children:e})}var O=a(13),x=a.n(O),f=a.p+"static/media/logo.dc126ffe.png";a(50);function v(){var t=Object(o.f)(),e=Object(n.useContext)(h),a=Object(u.a)(e,2)[1],c=Object(n.useState)(""),r=Object(u.a)(c,2),i=r[0],s=r[1],j=Object(n.useState)(""),p=Object(u.a)(j,2),O=p[0],v=p[1];function m(){return(m=Object(d.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==O&&""!==i){e.next=4;break}return x.a.fire({icon:"warning",title:"Aten\xe7\xe3o",text:"Preencha o nome do sorteio e os participantes.",showConfirmButton:!1,showCloseButton:!0}),e.abrupt("return");case 4:a({name:O,participants:i}),t.push("/newSort");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsxs)("div",{id:"page-home",children:[Object(b.jsx)("header",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:f,alt:"Lottery FlyPiggs"}),Object(b.jsx)("span",{children:"FLYPIGGS"})]})}),Object(b.jsx)("main",{children:Object(b.jsxs)("div",{className:"main-title",children:[Object(b.jsx)("h1",{children:"Criar Sorteio"}),Object(b.jsxs)("form",{onSubmit:function(t){return m.apply(this,arguments)},children:[Object(b.jsx)("input",{onChange:function(t){return v(t.target.value)},placeholder:"Nome do sorteio"}),Object(b.jsx)("textarea",{onChange:function(t){return s(t.target.value)},placeholder:"Adicionar os participantes ao sorteio"}),Object(b.jsx)("button",{type:"submit",children:"Criar Sorteio"})]})]})}),Object(b.jsx)("footer",{children:"FLYPIGGS - Copyright \xa9 2021"})]})}var m=a(37),g=a.n(m),w=a(38),C=a.n(w),y=a.p+"static/media/flypiggstext.dc2a8b9c.png";a(77);function L(t){var e=t.name,a=t.entries,n=t.avatar;return Object(b.jsxs)("div",{className:"card",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:n||y,alt:"avatar"}),Object(b.jsx)("h2",{children:e})]}),Object(b.jsxs)("span",{children:[a>1?"Entradas":"Entrada",": ",a]})]})}var S=a.p+"static/media/fogos.80e8fd2b.gif";a(78);function k(t){var e=t.name,a=t.avatar;return Object(b.jsxs)("div",{id:"alert",children:[Object(b.jsx)("img",{src:S,alt:"fogos"}),Object(b.jsx)("strong",{children:"Vencedor"}),Object(b.jsx)("img",{className:"avatar-winner",src:a||y,alt:e}),Object(b.jsx)("span",{children:e}),Object(b.jsx)("br",{})]})}a(79);var P=g()(x.a);function N(){var t=Object(n.useContext)(h),e=Object(u.a)(t,1)[0],a=Object(n.useState)(null),c=Object(u.a)(a,2),r=c[0],i=c[1],j=Object(o.f)(),p=Object(n.useState)(""),O=Object(u.a)(p,2),v=O[0],m=O[1],g=Object(n.useState)(0),w=Object(u.a)(g,2),y=w[0],S=w[1],N=Object(n.useState)([]),E=Object(u.a)(N,2),G=E[0],B=E[1],F=Object(n.useCallback)(Object(d.a)(l.a.mark((function t(){var a,n,c,r,s,o,j;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null===(a=e.participants)||void 0===a?void 0:a.split(","),c=[],r="",null===n||void 0===n||n.forEach((function(t){t=t.trim(),c.includes(t)||(c.push(t),r+="".concat(t,","))})),r=r.substr(0,r.length-1),t.next=7,C.a.get("https://api.twitch.tv/kraken/users?login=".concat(r),{headers:{"Client-ID":"o2ie168kex5r4s6o0xpee997ch8obk",Accept:"application/vnd.twitchtv.v5+json"}});case 7:s=t.sent,o=s.data,j=o.users.reduce((function(t,e){return t[e.display_name.toLowerCase()]={avatar:e.logo,display_name:e.display_name},t}),{}),i(j);case 11:case"end":return t.stop()}}),t)}))),[e.participants]);return Object(n.useEffect)((function(){m(e.participants?e.participants:""),F()}),[F,e.participants]),Object(n.useEffect)((function(){if(void 0!==e.name&&void 0!==e.participants){if(""===e.name||""===e.participants)return j.push("/"),void x.a.fire({icon:"warning",title:"Aten\xe7\xe3o",text:"Preencha o nome do sorteio e os participantes.",showConfirmButton:!1,showCloseButton:!0});if(r){var t=v.split(","),a=[];S(t.length),t.forEach((function(t){t=t.trim(),a.includes(t)||a.push(t)}));var n=a.map((function(e){return void 0===r["".concat(e.toLocaleLowerCase())]?{name:e,entries:t.filter((function(t){return t===e})).length,avatar:""}:{name:r["".concat(e.toLocaleLowerCase())].display_name,entries:t.filter((function(t){return t===e})).length,avatar:r["".concat(e.toLocaleLowerCase())].avatar}}));B(n)}}else j.push("/")}),[v,e.name,e.participants,j,r]),Object(b.jsxs)("div",{id:"page-new-sort",children:[Object(b.jsxs)("header",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:f,alt:"Lottery FlyPiggs"}),Object(b.jsx)("span",{children:"FLYPIGGS"})]}),Object(b.jsx)("div",{children:Object(b.jsx)(s.b,{className:"navbar-button",to:"/",children:"Novo Sorteio"})})]}),Object(b.jsxs)("main",{children:[Object(b.jsxs)("div",{className:"main-title",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("span",{children:[G.length>1?"Participantes":"Participante",": ",Object(b.jsx)("strong",{children:G.length})]}),Object(b.jsxs)("span",{children:[y>1?"Entradas":"Entrada",": ",Object(b.jsx)("strong",{children:y})]})]}),Object(b.jsx)("div",{className:"sort-name",children:Object(b.jsx)("h1",{children:e.name})}),Object(b.jsx)("div",{className:"main-controller",children:Object(b.jsx)("button",{onClick:function(){var t=v.split(","),e=Math.floor(Math.random()*t.length),a={name:"",avatar:""};r&&(void 0===r["".concat(t[e].toLocaleLowerCase())]?(a.name=t[e],a.avatar=""):(a.name=r["".concat(t[e].toLocaleLowerCase())].display_name,a.avatar=r["".concat(t[e].toLocaleLowerCase())].avatar),P.fire({html:Object(b.jsx)(k,{name:a.name,avatar:a.avatar}),showConfirmButton:!1,showCancelButton:!1,background:"transparent"}))},children:"Sortear"})})]}),Object(b.jsx)("div",{className:"main-content",children:G.map((function(t){var e=t.name,a=t.entries,n=t.avatar;return Object(b.jsx)(L,{name:e,entries:a,avatar:n},e)}))})]}),Object(b.jsx)("footer",{children:"FLYPIGGS - Copyright \xa9 2021"})]})}var E=function(){return Object(b.jsx)(s.a,{children:Object(b.jsx)(p,{children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,component:v}),Object(b.jsx)(o.a,{path:"/newSort",component:N})]})})})};a(80);i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.a27ccd7d.chunk.js.map